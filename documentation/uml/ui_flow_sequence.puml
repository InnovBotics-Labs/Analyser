@startuml Budget Analyser UI Flow Sequence

title Budget Analyser - UI Flow

actor User
participant "Login Screen\n(Ui_Widget)" as Login
participant "Dashboard\n(Ui_MainWindow)" as Dashboard
participant "Home Page" as Home
participant "Earnings Page" as Earnings
participant "Expenses Page" as Expenses
participant "Upload Page" as Upload
participant "Mapper Page" as Mapper
participant "Settings Page" as Settings

User -> Login: Start application
activate Login

User -> Login: Enter password
Login -> Login: check_password()
alt password correct
    Login -> Dashboard: open_dashboard()
    activate Dashboard
    Login --> User: Close login screen
    deactivate Login
    
    Dashboard -> Home: Show home page
    activate Home
    Dashboard --> User: Display dashboard
    
    alt User selects Earnings
        User -> Dashboard: Click Earnings button
        Dashboard -> Home: Hide
        deactivate Home
        Dashboard -> Earnings: Show
        activate Earnings
        Earnings --> User: Display earnings data
    else User selects Expenses
        User -> Dashboard: Click Expenses button
        Dashboard -> Earnings: Hide
        deactivate Earnings
        Dashboard -> Expenses: Show
        activate Expenses
        Expenses --> User: Display expenses data
    else User selects Upload
        User -> Dashboard: Click Upload button
        Dashboard -> Expenses: Hide
        deactivate Expenses
        Dashboard -> Upload: Show
        activate Upload
        Upload --> User: Display upload interface
    else User selects Mapper
        User -> Dashboard: Click Mapper button
        Dashboard -> Upload: Hide
        deactivate Upload
        Dashboard -> Mapper: Show
        activate Mapper
        Mapper --> User: Display mapper interface
    else User selects Settings
        User -> Dashboard: Click Settings button
        Dashboard -> Mapper: Hide
        deactivate Mapper
        Dashboard -> Settings: Show
        activate Settings
        Settings --> User: Display settings interface
    else User selects Logout
        User -> Dashboard: Click Logout button
        Dashboard -> Settings: Hide
        deactivate Settings
        Dashboard --> User: Close application
        deactivate Dashboard
    end
    
else password incorrect
    Login --> User: Display error message
    deactivate Login
end

@enduml